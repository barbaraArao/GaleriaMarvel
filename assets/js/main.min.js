var PRIV_KEY="796f1432c90b93189966df4e7a45abc737ea8f0b",PUBLIC_KEY="ffafe86f852186e94371d42b8d56dba6";function getMarvelResponse(){var e=(new Date).getTime(),t=CryptoJS.MD5(e+PRIV_KEY+PUBLIC_KEY).toString(),s="https://gateway.marvel.com:443/v1/public/comics";$(".result").remove(),console.log(s),$(".loader-content").css("display","block"),$(".footer").css("display","none"),$.getJSON(s,{ts:e,apikey:PUBLIC_KEY,hash:t,limit:50}).done(function(e){var t=e.data.results,s=t.length,o=[];t.forEach(e=>{o.push(e)}),o.sort(orderListBy("title"));for(var a='<ul class="result"> ',n=0;n<s;n++)if(o[n].images.length>0){var l=o[n].description;null==l&&(l="Nenhuma descrição disponível");var i=o[n].images[0].path+"/standard_xlarge."+o[n].images[0].extension;a+='<li><img src="'+i+'"><br> <span  data-toggle="modal" data-target="#myModal'+n+'">'+o[n].title+'<br> <span class="price"> $ '+o[n].prices[0].price+'</span></span><div class="modal fade" id="myModal'+n+'" role="dialog">\n                    <div class="modal-dialog modal-lg">\n                        <div class="modal-content">\n                            <div class="modal-header"><h4>'+o[n].title+'</h4><button type="button" class="close" data-dismiss="modal">&times;</button>\n                            </div>\n                            <div class="modal-body"><div class="position-modal"><img src="'+i+'"><div class="style-content-modal"><p><strong>Description: </strong> '+l+"</p><p><strong>Price: </strong> $ "+o[n].prices[0].price+"</p></div></div></div>\n                        </div>\n                    </div>\n                    </div></li>"}a+="</ul>",$("#results").append(a),$(".loader-content").css("display","none"),$(".footer").css("display","block"),$(".label-conteudo").text("CONTEÚDO SUGERIDO")}).fail(function(e){console.log(e)})}function buscaPorTitulo(e){var t=(new Date).getTime(),s=CryptoJS.MD5(t+PRIV_KEY+PUBLIC_KEY).toString();$(".result").remove();$(".loader-content").css("display","block"),$(".footer").css("display","none"),$.getJSON("https://gateway.marvel.com:443/v1/public/comics",{ts:t,apikey:PUBLIC_KEY,hash:s,title:e}).done(function(t){var s=t.data.results,o=s.length;if(0!==o){var a='<ul class="result">',n=[];s.forEach(e=>{n.push(e)});for(var l=0;l<o;l++)if(n[l].images.length>0){var i=n[l].description;null==i&&(i="Nenhuma descrição disponível");var d=n[l].images[0].path+"/standard_xlarge."+n[l].images[0].extension;a+='<li><img src="'+d+'"><br> <span  data-toggle="modal" data-target="#myModal'+l+'">'+n[l].title+'<br> <span class="price"> $ '+n[l].prices[0].price+'</span></span><div class="modal fade" id="myModal'+l+'" role="dialog">\n                    <div class="modal-dialog modal-lg">\n                        <div class="modal-content">\n                            <div class="modal-header"><h4>'+n[l].title+'</h4><button type="button" class="close" data-dismiss="modal">&times;</button>\n                            </div>\n                            <div class="modal-body"><div class="position-modal"><img src="'+d+'"><div class="style-content-modal"><p><strong>Description: </strong>'+i+"</p><p> <strong>Price: </strong>$ "+n[l].prices[0].price+"</p></div></div></div>\n                        </div>\n                    </div>\n                    </div></li>"}a+="</ul>",$("#results").append(a),$(".loader-content").css("display","none"),$(".footer").css("display","block")}else $(".loader-content").css("display","none"),$(".label-conteudo").text('NENHUM RESULTADO PARA "'+e+'"POR FAVOR TENTE NOVAMENTE')}).fail(function(e){console.log(e)})}function fnBuscar(){return conteudo=document.getElementById("textoBusca").value,0==conteudo.trim().length?void 0:($(".label-conteudo").text('RESULTADOS PARA "'+conteudo+'"'),buscaPorTitulo(conteudo))}function isEmpty(e){return $(".label-conteudo").text("CONTEÚDO SUGERIDO"),!e.replace(/\s+/,"").length}function buscaType(){document.getElementById("textoBusca").value}function orderListBy(e){return function(t,s){return t[e]>s[e]?1:t[e]<s[e]?-1:0}}getMarvelResponse(),$(".icon-search").click(function(){fnBuscar()}),document.getElementById("textoBusca").addEventListener("input",function(){isEmpty(this.value)&&getMarvelResponse()}),input=document.getElementById("textoBusca"),input.addEventListener("keyup",buscaType()),$("#textoBusca").keypress(function(e){13==e.which&&(e.preventDefault(),fnBuscar())}),$("#logo").click(function(){getMarvelResponse()});